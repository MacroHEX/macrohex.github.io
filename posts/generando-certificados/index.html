<!DOCTYPE html><html lang="es-ES" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Generando Certificados SSL Autofirmados" /><meta property="og:locale" content="es_ES" /><meta name="description" content="Un sitio para documentar mi aprendizaje!" /><meta property="og:description" content="Un sitio para documentar mi aprendizaje!" /><link rel="canonical" href="https://macrohex.github.io/posts/generando-certificados/" /><meta property="og:url" content="https://macrohex.github.io/posts/generando-certificados/" /><meta property="og:site_name" content="Documentación de MacroHEX" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-28T17:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Generando Certificados SSL Autofirmados" /><meta name="twitter:site" content="@macrohex" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-29T22:14:42-04:00","datePublished":"2022-06-28T17:00:00-04:00","description":"Un sitio para documentar mi aprendizaje!","headline":"Generando Certificados SSL Autofirmados","mainEntityOfPage":{"@type":"WebPage","@id":"https://macrohex.github.io/posts/generando-certificados/"},"url":"https://macrohex.github.io/posts/generando-certificados/"}</script><title>Generando Certificados SSL Autofirmados | Documentación de MacroHEX</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Documentación de MacroHEX"><meta name="application-name" content="Documentación de MacroHEX"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://pbs.twimg.com/profile_images/1374461552699445249/V5W2G5n4_400x400.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Documentación de MacroHEX</a></div><div class="site-subtitle font-italic">Un sitio para documentar mi aprendizaje!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVO</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ACERCA DE</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://twitter.com/macrohex" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://github.com/macrohex" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Generando Certificados SSL Autofirmados</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Entrada</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Generando Certificados SSL Autofirmados</h1><div class="post-meta text-muted"> <span> Publicado <em class="" data-ts="1656450000" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-06-28 </em> </span> <span> Actualizado <em class="" data-ts="1656555282" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-06-29 </em> </span><div class="d-flex justify-content-between"> <span> Por <em> <a href="https://twitter.com/macrohex">MacroHEX</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="630 palabras"> <em>3 min</em> de lectura</span></div></div></div><div class="post-content"><p><img data-src="https://i.imgur.com/fZNF73s.png" alt="" data-proofer-ignore></p><p>Un problema común con el que podemos encontrarnos durante nuestra travesia montando nuestro Home Lab es que nuestras webs figuren como una conexión <code class="language-plaintext highlighter-rouge">No segura</code>.</p><p><img data-src="https://i.imgur.com/ARv5Qn5.png" alt="" data-proofer-ignore></p><p>Esto es debido a que no contamos con un certificado SSL, por decirlo de una manera resumida el certificado SSL es un poco de código en el servidor web que asegura que la conexión sea segura. Cuando la página web contacta a tu servidor, el certificado habilita una conexión encriptada.</p><blockquote class="prompt-tip"><div><p>Los certificados autofirmados son recomendados para la red local no para servicios públicos.</p></div></blockquote><h2 id="generando-los-certificados-autofirmados"><span class="mr-2">Generando los Certificados Autofirmados</span><a href="#generando-los-certificados-autofirmados" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="generamos-una-autoridad-de-certificación-ca"><span class="mr-2">Generamos una Autoridad de Certificación (CA)</span><a href="#generamos-una-autoridad-de-certificación-ca" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Utilizaremos <a href="https://www.openssl.org/">OpenSSL</a> para generar nuestros certificados.</p><p>Viene instalado por defecto en las distribuciones de Linux pero también puede realizarse desde Powershell en Windows.</p><ol><li>Generamos una clave RSA<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>openssl genrsa <span class="nt">-aes256</span> <span class="nt">-out</span> ca-key.pem 4096
</pre></table></code></div></div><blockquote class="prompt-info"><div><p><code class="language-plaintext highlighter-rouge">-aes256</code> es la encriptación de 256 bits</p></div></blockquote><li>Generamos un Certificado Público del CA<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>openssl req <span class="nt">-new</span> <span class="nt">-x509</span> <span class="nt">-sha256</span> <span class="nt">-days</span> 365 <span class="nt">-key</span> ca-key.pem <span class="nt">-out</span> ca.pem
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p>Como vamos a utilizar el certificado internamente podemos aumentar la validez del certificado.</p></div></blockquote></ol><h3 id="generando-el-certificado"><span class="mr-2">Generando el Certificado</span><a href="#generando-el-certificado" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>Creamos una clave RSA<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>openssl genrsa <span class="nt">-out</span> cert-key.pem 4096
</pre></table></code></div></div><li>Creamos una Solicitud de Firma de Certificado (CSR)<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>openssl req <span class="nt">-new</span> <span class="nt">-sha256</span> <span class="nt">-subj</span> <span class="s2">"/CN=yourcn"</span> <span class="nt">-key</span> cert-key.pem <span class="nt">-out</span> cert.csr
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p>Anteriormente el sujeto era importante para la validación pero ya no, así que podemos poner lo que queramos en <code class="language-plaintext highlighter-rouge">"/CN=yourcn"</code>.</p></div></blockquote><li>Creamos un archivo <code class="language-plaintext highlighter-rouge">extfile</code> con los nombres alternativos<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"subjectAltName=DNS:your-dns.record,IP:257.10.10.1"</span> <span class="o">&gt;&gt;</span> extfile.cnf
<span class="c"># opcional</span>
<span class="nb">echo </span>extendedKeyUsage <span class="o">=</span> serverAuth <span class="o">&gt;&gt;</span> extfile.cnf
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p>Aquí ingresamos nuestro DNS e IP a las que queremos validar.</p></div></blockquote><blockquote class="prompt-tip"><div><p>Podemos utilizar wildcards en el DNS tales como *.direccion.</p></div></blockquote><li>Creamos el Certificado<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>openssl x509 <span class="nt">-req</span> <span class="nt">-sha256</span> <span class="nt">-days</span> 365 <span class="nt">-in</span> cert.csr <span class="nt">-CA</span> ca.pem <span class="nt">-CAkey</span> ca-key.pem <span class="nt">-out</span> cert.pem <span class="nt">-extfile</span> extfile.cnf <span class="nt">-CAcreateserial</span>
</pre></table></code></div></div><blockquote class="prompt-tip"><div><p>Nuevamente podemos aumentar la validez del certificado.</p></div></blockquote><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre> <span class="nb">cat </span>cert.pem <span class="o">&gt;</span> fullchaim.pem
 <span class="nb">cat </span>ca.pem <span class="o">&gt;&gt;</span> fullchaim.pem
</pre></table></code></div></div><blockquote class="prompt-info"><div><p>Creamos un archivo fullchaim que contenga las dos claves que necesitamos.</p></div></blockquote><p></p></ol><h2 id="formatos-de-certificados"><span class="mr-2">Formatos de Certificados</span><a href="#formatos-de-certificados" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Los Certificados X.509 existen en los Formatos Base64 <strong>PEM (.pem, .crt, .ca-bundle)</strong>, <strong>PKCS#7 (.p7b, p7s)</strong> y Formatos Binarios <strong>DER (.der, .cer)</strong>, <strong>PKCS#12 (.pfx, p12)</strong>.</p><h3 id="conversión-de-certificados"><span class="mr-2">Conversión de Certificados</span><a href="#conversión-de-certificados" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="table-wrapper"><table><thead><tr><th>COMANDO<th>CONVERSIÓN<tbody><tr><td><code class="language-plaintext highlighter-rouge">openssl x509 -outform der -in cert.pem -out cert.der</code><td>PEM a DER<tr><td><code class="language-plaintext highlighter-rouge">openssl x509 -inform der -in cert.der -out cert.pem</code><td>DER a PEM<tr><td><code class="language-plaintext highlighter-rouge">openssl pkcs12 -in cert.pfx -out cert.pem -nodes</code><td>PFX a PEM</table></div><h2 id="verificar-certificados"><span class="mr-2">Verificar Certificados</span><a href="#verificar-certificados" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>openssl verify <span class="nt">-CAfile</span> ca.pem <span class="nt">-verbose</span> cert.pem
</pre></table></code></div></div><h2 id="instalar-la-autoridad-de-certificación-ca-en-root-ca"><span class="mr-2">Instalar la Autoridad de Certificación (CA) en root CA</span><a href="#instalar-la-autoridad-de-certificación-ca-en-root-ca" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="en-debian--derivados"><span class="mr-2">En Debian &amp; Derivados</span><a href="#en-debian--derivados" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Mover el CA (<code class="language-plaintext highlighter-rouge">ca.pem</code>) en <code class="language-plaintext highlighter-rouge">/usr/local/share/ca-certificates/ca.crt</code>.<li>Actualizar la librería de certificados con:<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>update-ca-certificates
</pre></table></code></div></div></ul><p>Para más documentación <a href="https://wiki.debian.org/Self-Signed_Certificate">aquí</a> y <a href="https://manpages.debian.org/buster/ca-certificates/update-ca-certificates.8.en.html">aquí.</a></p><h3 id="en-fedora"><span class="mr-2">En Fedora</span><a href="#en-fedora" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Mover el CA (<code class="language-plaintext highlighter-rouge">ca.pem</code>) en <code class="language-plaintext highlighter-rouge">/etc/pki/ca-trust/source/anchors/ca.pem</code> or <code class="language-plaintext highlighter-rouge">/usr/share/pki/ca-trust-source/anchors/ca.pem</code><li>Ahora ejecuta (con sudo si es necesario):<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>update-ca-trust
</pre></table></code></div></div></ul><p>Para más documentación <a href="https://docs.fedoraproject.org/en-US/quick-docs/using-shared-system-certificates/">aquí.</a></p><h3 id="en-arch"><span class="mr-2">En Arch</span><a href="#en-arch" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>System-wide – Arch(p11-kit) (De la wiki de arch)</p><ul><li>Ejecuta (Como root)<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>trust anchor <span class="nt">--store</span> myCA.crt
</pre></table></code></div></div><li>El certificado será escrito en /etc/ca-certificates/trust-source/myCA.p11-kit y los directorios “legacy” se actualizarán automáticamente.<li>Si recibes el error “no configured writable location” o similar, importa el CA manualmente:<li>Copia el certificado en el directorio /etc/ca-certificates/trust-source/anchors<li>y entonces<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>update-ca-trust
</pre></table></code></div></div><p><a href="https://wiki.archlinux.org/title/User:Grawity/Adding_a_trusted_CA_certificate">wiki</a></p></ul><h3 id="en-windows"><span class="mr-2">En Windows</span><a href="#en-windows" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Asumiento que el directorio a nuestra Autoridad de Certificacion (CA) es <code class="language-plaintext highlighter-rouge">C:\ca.pem</code>, ejecutamos:</p><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Import-Certificate</span><span class="w"> </span><span class="nt">-FilePath</span><span class="w"> </span><span class="s2">"C:\ca.pem"</span><span class="w"> </span><span class="nt">-CertStoreLocation</span><span class="w"> </span><span class="nx">Cert:\LocalMachine\Root</span><span class="w">
</span></pre></table></code></div></div><ul><li>Cambia <code class="language-plaintext highlighter-rouge">-CertStoreLocation</code> a <code class="language-plaintext highlighter-rouge">Cert:\CurrentUser\Root</code> en caso de que quieras confiar en los certificados solo para el usuario logueado.</ul><p>O</p><p>En la Terminal, ejecuta:</p><div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>certutil.exe <span class="nt">-addstore</span> root C:<span class="se">\c</span>a.pem
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">certutil.exe</code> es una herramienta integrada que agrega confianza en todo el sistema.</ul><h3 id="en-android"><span class="mr-2">En Android</span><a href="#en-android" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Los pasos exactos cambian entre dispositivos, aquí va una guía generalizada:</p><ol><li>Abrir las configuraciones<li>Ubicar la sección <code class="language-plaintext highlighter-rouge">Encryption and Credentials</code> Normalmente ubicada en <code class="language-plaintext highlighter-rouge">Settings &gt; Security &gt; Encryption and Credentials</code><li>Seleccionar <code class="language-plaintext highlighter-rouge">Install a certificate</code><li>Seleccionar <code class="language-plaintext highlighter-rouge">CA Certificate</code><li>Ubicar el archivo <code class="language-plaintext highlighter-rouge">ca.pem</code> en la memoria utilizando el administrador de archivos.<li>Seleccionarlo.<li>Listo!</ol><blockquote class="prompt-info"><div><p>Tengo mi teléfono en inglés así que no se como son las opciones en español.</p></div></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/self-hosted/'>self-hosted</a>, <a href='/categories/certificate/'>certificate</a>, <a href='/categories/openssl/'>openSSL</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/self-hosted/" class="post-tag no-text-decoration" >self-hosted</a> <a href="/tags/cloud/" class="post-tag no-text-decoration" >cloud</a> <a href="/tags/certificate/" class="post-tag no-text-decoration" >certificate</a> <a href="/tags/security/" class="post-tag no-text-decoration" >security</a> <a href="/tags/openssl/" class="post-tag no-text-decoration" >openSSL</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Esta entrada está licenciada bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Generando+Certificados+SSL+Autofirmados+-+Documentaci%C3%B3n+de+MacroHEX&url=https%3A%2F%2Fmacrohex.github.io%2Fposts%2Fgenerando-certificados%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Generando+Certificados+SSL+Autofirmados+-+Documentaci%C3%B3n+de+MacroHEX&u=https%3A%2F%2Fmacrohex.github.io%2Fposts%2Fgenerando-certificados%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fmacrohex.github.io%2Fposts%2Fgenerando-certificados%2F&text=Generando+Certificados+SSL+Autofirmados+-+Documentaci%C3%B3n+de+MacroHEX" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar enlace" data-title-succeed="¡Enlace copiado!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Actualizado recientemente</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/como-usar-jekyll/">Conoce Jekyll - El Generador de Sitio Web Estático</a><li><a href="/posts/instalando-wsl/">Instalando el Subsistema de Windows para Linux (WSL)</a><li><a href="/posts/generando-certificados/">Generando Certificados SSL Autofirmados</a><li><a href="/posts/hassio-duckdns/">Configurando Duck DNS en Home Assistant</a><li><a href="/posts/hassio-truenas/">Home Assistant OS en TrueNAS Scale</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/self-hosted/">self-hosted</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/servers/">servers</a> <a class="post-tag" href="/tags/automatization/">automatization</a> <a class="post-tag" href="/tags/homeassistant/">homeassistant</a> <a class="post-tag" href="/tags/certificate/">certificate</a> <a class="post-tag" href="/tags/duckdns/">duckdns</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/local-network/">local network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contenido</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Lecturas adicionales</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/instalando-truenas/"><div class="card-body"> <em class="small" data-ts="1656302400" data-df="YYYY-MM-DD" > 2022-06-27 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Instalando TrueNAS Scale</h3><div class="text-muted small"><p> TrueNAS Scale es un sistema operativo basado en Linux que proporciona servicios de almacenamiento en red. Es un sistema operativo gratuito, open-source y de software libre que permite convertir ...</p></div></div></a></div><div class="card"> <a href="/posts/hassio-truenas/"><div class="card-body"> <em class="small" data-ts="1656388800" data-df="YYYY-MM-DD" > 2022-06-28 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Home Assistant OS en TrueNAS Scale</h3><div class="text-muted small"><p> Home Assistant es un software gratuito y de código abierto para la automatización del hogar diseñado para ser un sistema de control central para dispositivos domésticos inteligentes con un enfoqu...</p></div></div></a></div><div class="card"> <a href="/posts/hassio-duckdns/"><div class="card-body"> <em class="small" data-ts="1656428400" data-df="YYYY-MM-DD" > 2022-06-28 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Configurando Duck DNS en Home Assistant</h3><div class="text-muted small"><p> Duck DNS es un servicio gratuito que se encarga de dirigir direcciones IP a subdominios del tipo duckdns.org. El servicio de DDNS asocia nuestra IP pública a un dominio. De esta forma podemos ac...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/instalando-jellyfin/" class="btn btn-outline-primary" prompt="Anterior"><p>Jellyfin una alternativa Open-source a Plex</p></a> <a href="/posts/instalando-wsl/" class="btn btn-outline-primary" prompt="Nuevo"><p>Instalando el Subsistema de Windows para Linux (WSL)</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/macrohex">MacroHEX</a>. <span data-toggle="tooltip" data-placement="top" title="Salvo que se indique explícitamente, las entradas de este blog están licenciadas bajo la Creative Commons Attribution 4.0 International (CC BY 4.0) License por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Hecho con <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> usando el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/self-hosted/">self-hosted</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/servers/">servers</a> <a class="post-tag" href="/tags/automatization/">automatization</a> <a class="post-tag" href="/tags/homeassistant/">homeassistant</a> <a class="post-tag" href="/tags/certificate/">certificate</a> <a class="post-tag" href="/tags/duckdns/">duckdns</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/local-network/">local network</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">Hay una nueva versión de contenido disponible.</p><button type="button" class="btn btn-primary" aria-label="Update"> Actualizar </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">¡Oops! No se encuentran resultados.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
